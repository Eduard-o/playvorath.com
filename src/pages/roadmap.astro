---
import Graph from '../layouts/Graph.astro';
---

<Graph title="3D Roadmap">
  <main>
    <div id="graph"></div>

    <script type="module">
      const NODE_REL_SIZE = 1;
      const Graph = ForceGraph3D({ controlType: 'orbit' })(document.getElementById('graph'))
        .jsonUrl('../data/roadmap.json')
        .nodeLabel('id')
        .nodeAutoColorBy('group');

      const bloomPass = new UnrealBloomPass();
      bloomPass.strength = 0.5;
      bloomPass.radius = 0.5;
      bloomPass.threshold = 0.1;
      Graph.postProcessingComposer().addPass(bloomPass);
    </script>
  </main>
</Graph>

<style>
  @import '../styles/roadmap3d.css';
</style>
